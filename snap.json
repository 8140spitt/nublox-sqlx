{
  "db": null,
  "schemas": [
    "api",
    "devops",
    "observability_v",
    "platform",
    "platform_v",
    "rls_v",
    "security_v",
    "sqlx",
    "sqlx_smoketest",
    "ui",
    "workflow"
  ],
  "tables": [
    {
      "schema": "api",
      "name": "collections",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_api_coll_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_api_coll_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_api_collections__project_id",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "api",
      "name": "endpoints",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "collection_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "method",
          "type": "enum('GET','POST','PUT','PATCH','DELETE','OPTIONS')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "path",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "handler_type",
          "type": "enum('crud','workflow','custom')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "config_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "version",
          "type": "int unsigned",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "1"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_api_ep_coll",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "collection_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_api_ep_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_api_endpoint_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "method",
              "prefixLen": null
            },
            {
              "colOrExpr": "path",
              "prefixLen": null
            },
            {
              "colOrExpr": "version",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_api_endpoints__collection_id",
          "columns": [
            "collection_id"
          ],
          "refSchema": "api",
          "refTable": "collections",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_api_endpoints__project_id",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "api",
      "name": "keys",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "key_hash",
          "type": "binary(32)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "scopes_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "expires_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_apikey_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_api_keys_hash",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "key_hash",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_apikey",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_apikey_proj",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "api",
      "name": "policies",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "endpoint_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "auth_required",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "1"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "role_requirements",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "rate_limit_per_min",
          "type": "int unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "cors_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_api_policy_ep",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "endpoint_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_api_policy_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "endpoint_id",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_api_policies__endpoint_id",
          "columns": [
            "endpoint_id"
          ],
          "refSchema": "api",
          "refTable": "endpoints",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "api",
      "name": "request_logs",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "endpoint_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "environment_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "method",
          "type": "varchar(10)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "path",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "status_code",
          "type": "int",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "duration_ms",
          "type": "int",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "ip_hash",
          "type": "binary(32)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "req_headers_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "req_body_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "res_headers_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "res_body_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp(6)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP(6)"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_api_log_env",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "environment_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_api_log_ep",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "endpoint_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_api_req_lookup",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "endpoint_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "status_code",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_api_request_logs__endpoint_id",
          "columns": [
            "endpoint_id"
          ],
          "refSchema": "api",
          "refTable": "endpoints",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_api_request_logs__environment_id",
          "columns": [
            "environment_id"
          ],
          "refSchema": "devops",
          "refTable": "environments",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "api",
      "name": "tests",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "collection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "request_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "expect_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "last_status",
          "type": "enum('pass','fail','unknown')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "unknown"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "last_run_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_api_test_coll",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "collection_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_api_test_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "collection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_api_tests__collection_id",
          "columns": [
            "collection_id"
          ],
          "refSchema": "api",
          "refTable": "collections",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "devops",
      "name": "builds",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "version",
          "type": "varchar(50)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "commit_sha",
          "type": "char(40)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "artifact_url",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_build_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_build_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_build_version",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "version",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_devops_builds__created_by",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_devops_builds__project_id",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "devops",
      "name": "deployments",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "environment_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "build_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "status",
          "type": "enum('pending','running','succeeded','failed','canceled')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "pending"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "started_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "finished_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "logs_url",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dep_build",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "build_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_dep_env",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "environment_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_deployments_status",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "environment_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "status",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dep_build",
          "columns": [
            "build_id"
          ],
          "refSchema": "devops",
          "refTable": "builds",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_dep_env",
          "columns": [
            "environment_id"
          ],
          "refSchema": "devops",
          "refTable": "environments",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "devops",
      "name": "env_vars",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "environment_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "key_name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "value_plain",
          "type": "text",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "secret_ref",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_envvar_env",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "environment_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_envvar_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "environment_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "key_name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_envvar_env",
          "columns": [
            "environment_id"
          ],
          "refSchema": "devops",
          "refTable": "environments",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "devops",
      "name": "environments",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "slug",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "kind",
          "type": "enum('dev','test','stage','prod','preview')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "dev"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "base_url",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_env_project",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_env_slug_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "slug",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_devops_environments__project_id",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "audit_events",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "actor_user_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "action",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "resource_type",
          "type": "varchar(50)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "resource_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "metadata_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_audit_actor",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "actor_user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_audit_resource",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "resource_type",
              "prefixLen": null
            },
            {
              "colOrExpr": "resource_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_audit_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "actor_user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_audit_ws_created",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_platform_audit_events__actor_user_id",
          "columns": [
            "actor_user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_platform_audit_events__workspace_id",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "business_accounts",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "owner_user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "tax_id",
          "type": "varchar(50)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "address_line1",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "address_line2",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "city",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "postal_code",
          "type": "varchar(20)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "country_code",
          "type": "char(2)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "currency_code",
          "type": "char(3)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "USD"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "vat_exempt",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "contact_email",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "payment_provider",
          "type": "varchar(50)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "payment_provider_id",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_business_owner",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "owner_user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_business_owner",
          "columns": [
            "owner_user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "credentials",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "credential_type",
          "type": "enum('password','oauth','api_key','webauthn')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "password"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "credential_value_hash",
          "type": "varbinary(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "salt",
          "type": "varbinary(64)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "secret_ref",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "meta",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_cred_uid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_cred_uid",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "db_migrations",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "version",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "up_sql",
          "type": "longtext",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "down_sql",
          "type": "longtext",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "applied_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_dbmig_ver",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "version",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "feature_flags",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "key_name",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "enabled_default",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "rules_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ff_ws",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_ff",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "key_name",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ff_ws",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "global_audit_events",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "namespace",
          "type": "enum('platform','api','ui','workflow','devops','sqlx')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "object_type",
          "type": "varchar(50)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "object_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "actor_user_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "action",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "metadata_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp(6)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP(6)"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_gae_actor",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "actor_user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_gae_ns_time",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "namespace",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_gae_actor",
          "columns": [
            "actor_user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "invoices",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "subscription_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "amount_cents",
          "type": "int unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "currency",
          "type": "char(3)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "due_at",
          "type": "timestamp",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "paid_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "external_id",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_inv_sub",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "subscription_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_inv_sub",
          "columns": [
            "subscription_id"
          ],
          "refSchema": "platform",
          "refTable": "subscriptions",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "locales",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "code",
          "type": "varchar(20)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_loc_ws",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_locale",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "code",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_loc_ws",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "meta_registry",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "object_type",
          "type": "varchar(40)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "object_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "namespace",
          "type": "varchar(40)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "platform"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_mr_ns_type_obj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "namespace",
              "prefixLen": null
            },
            {
              "colOrExpr": "object_type",
              "prefixLen": null
            },
            {
              "colOrExpr": "object_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_mr_type_obj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "object_type",
              "prefixLen": null
            },
            {
              "colOrExpr": "object_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_mr_ws",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_mr_ws",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "notification_deliveries",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "event_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "to_address",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "status",
          "type": "enum('queued','sent','failed')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "queued"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "provider",
          "type": "varchar(100)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "provider_ref",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "error_message",
          "type": "text",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp(6)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP(6)"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_nd_event",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "event_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_nd_event",
          "columns": [
            "event_id"
          ],
          "refSchema": "platform",
          "refTable": "notification_events",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "notification_events",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "template_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "channel",
          "type": "enum('email','sms','inapp','webhook')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "payload_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ne_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_ne_tpl",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "template_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ne_proj",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_ne_tpl",
          "columns": [
            "template_id"
          ],
          "refSchema": "platform",
          "refTable": "notification_templates",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "notification_templates",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "key_name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "channel",
          "type": "enum('email','sms','inapp','webhook')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "subject",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "body_markdown",
          "type": "longtext",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_nt_ws",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_nt_key_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "key_name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_nt_ws",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "permissions",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "key_name",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "description",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_perm_key",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "key_name",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "plans",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "key_name",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "price_cents",
          "type": "int unsigned",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "currency",
          "type": "char(3)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "USD"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "meta_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_plan_key",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "key_name",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "project_members",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_pm_pid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_pm_uid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_project_member_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_pm_pid",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_pm_uid",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "projects",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "slug",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_proj_wsid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_project_slug_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "slug",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_proj_wsid",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "role_permissions",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "role_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "permission_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_rp_perm",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "permission_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_rp_role",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "role_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_role_perm",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "role_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "permission_id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_rp_perm",
          "columns": [
            "permission_id"
          ],
          "refSchema": "platform",
          "refTable": "permissions",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_rp_role",
          "columns": [
            "role_id"
          ],
          "refSchema": "platform",
          "refTable": "roles",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "roles",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_roles_ws",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_role_name",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_roles_ws",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "secrets",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "scope_type",
          "type": "enum('workspace','project','connection','user','global')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "scope_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "ciphertext",
          "type": "varbinary(4096)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_secret_scope",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "scope_type",
              "prefixLen": null
            },
            {
              "colOrExpr": "scope_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_secret_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_secret",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "scope_type",
              "prefixLen": null
            },
            {
              "colOrExpr": "scope_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": "deleted_at",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_secret_user",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "storage_buckets",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "provider",
          "type": "enum('local','s3','gcs','azure')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "local"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "config_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_bucket_ws",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_bucket_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_bucket_ws",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "storage_objects",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "bucket_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "key_name",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "content_type",
          "type": "varchar(190)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "size_bytes",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "checksum",
          "type": "binary(32)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_obj_bucket",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "bucket_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_obj_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_object_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "bucket_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "key_name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_obj_bucket",
          "columns": [
            "bucket_id"
          ],
          "refSchema": "platform",
          "refTable": "storage_buckets",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_obj_user",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "subscriptions",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "business_account_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "plan_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "status",
          "type": "enum('trialing','active','past_due','canceled')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "active"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "trial_end_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "renews_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "external_ref",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_sub_ba",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "business_account_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_sub_plan",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "plan_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_sub",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "business_account_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "plan_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "status",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_sub_ba",
          "columns": [
            "business_account_id"
          ],
          "refSchema": "platform",
          "refTable": "business_accounts",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_sub_plan",
          "columns": [
            "plan_id"
          ],
          "refSchema": "platform",
          "refTable": "plans",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "task_attachments",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "task_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "file_path",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_tatt_tid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "task_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_tatt_uid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_tatt_tid",
          "columns": [
            "task_id"
          ],
          "refSchema": "platform",
          "refTable": "tasks",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_tatt_uid",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "task_comments",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "task_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "comment",
          "type": "text",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_tcom_tid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "task_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_tcom_uid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_tcom_tid",
          "columns": [
            "task_id"
          ],
          "refSchema": "platform",
          "refTable": "tasks",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_tcom_uid",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "tasks",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "parent_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "assignee_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "due_date",
          "type": "datetime",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "priority",
          "type": "enum('low','medium','high','urgent')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "low"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "status",
          "type": "enum('todo','in_progress','blocked','done','archived')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "todo"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_tasks_assignee",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "assignee_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_tasks_parent",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "parent_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_tasks_project",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_tasks_status_priority",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "status",
              "prefixLen": null
            },
            {
              "colOrExpr": "priority",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_tasks_aid",
          "columns": [
            "assignee_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_tasks_parent",
          "columns": [
            "parent_id"
          ],
          "refSchema": "platform",
          "refTable": "tasks",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_tasks_pid",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "translations",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "locale_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "namespace",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "key_name",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "value_text",
          "type": "longtext",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "updated_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_tr_loc",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "locale_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_tr_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "updated_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_tr",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "locale_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "namespace",
              "prefixLen": null
            },
            {
              "colOrExpr": "key_name",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_tr_loc",
          "columns": [
            "locale_id"
          ],
          "refSchema": "platform",
          "refTable": "locales",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_tr_user",
          "columns": [
            "updated_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_tr_ws",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "usage_records",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "subscription_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "metric_key",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "quantity",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "period_start",
          "type": "timestamp",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "period_end",
          "type": "timestamp",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_usage_sub",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "subscription_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "metric_key",
              "prefixLen": null
            },
            {
              "colOrExpr": "period_start",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_usage_sub",
          "columns": [
            "subscription_id"
          ],
          "refSchema": "platform",
          "refTable": "subscriptions",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "user_profiles",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "prefix",
          "type": "varchar(10)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "first_name",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "middle_name",
          "type": "varchar(100)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "last_name",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "bio",
          "type": "text",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "avatar_url",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "email",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_up_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_user_profiles_email_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "email",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_user_profiles_user_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_user_profiles_user",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "user_roles",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "role",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ur_uid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_user_role",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "role",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ur_uid",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "user_sessions",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "session_token",
          "type": "char(64)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "expires_at",
          "type": "timestamp",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "ip",
          "type": "varchar(64)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "user_agent",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_usess_lookup",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "expires_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_usess_uid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_session_token",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "session_token",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_usess_uid",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "user_verifications",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "identifier",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "token_hash",
          "type": "binary(32)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "expires_at",
          "type": "timestamp",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_usver_uid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_verification_identifier",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "identifier",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_usver_uid",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "users",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "username",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "status",
          "type": "enum('active','inactive','banned')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "active"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "last_login_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_users_username_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "username",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "workspace_members",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workspace_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "role",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_wsmem_uid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_wsmem_wsid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_workspace_member_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workspace_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_wsmem_uid",
          "columns": [
            "user_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_wsmem_wsid",
          "columns": [
            "workspace_id"
          ],
          "refSchema": "platform",
          "refTable": "workspaces",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "platform",
      "name": "workspaces",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "owner_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "slug",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "tier",
          "type": "enum('free','pro','enterprise')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "free"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "business_account_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ws_business",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "business_account_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_ws_owner",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "owner_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_workspace_slug_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "slug",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ws_business",
          "columns": [
            "business_account_id"
          ],
          "refSchema": "platform",
          "refTable": "business_accounts",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_ws_owner",
          "columns": [
            "owner_id"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "connection_errors",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "error_message",
          "type": "text",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbce_cid_created",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbce_cid",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "connections",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "host",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "port",
          "type": "int unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "username",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "secret_ref",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "enc_credentials",
          "type": "varbinary(2048)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "dbms",
          "type": "enum('mysql','postgresql','sqlite','sqlserver','oracle')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "mysql"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "db_name",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_sqlx_conn__project_host_port",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "host",
              "prefixLen": null
            },
            {
              "colOrExpr": "port",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_sqlx_connections__project",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_sqlx_conn__project_name_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_sqlx_connections__project_id",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "data_exports",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "format",
          "type": "enum('csv','xlsx','json')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "filename",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "query_ref",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "exported_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_de_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_de_query",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "query_ref",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_de_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_sqlx_data_exports__created_by",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_sqlx_data_exports__project_id",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_sqlx_data_exports__query_ref",
          "columns": [
            "query_ref"
          ],
          "refSchema": "sqlx",
          "refTable": "saved_queries",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "data_imports",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "source_type",
          "type": "enum('csv','xlsx','json','api')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "file_path",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "status",
          "type": "enum('pending','running','succeeded','failed')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "pending"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "rows_total",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "rows_loaded",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_di_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_di_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_sqlx_data_imports__created_by",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_sqlx_data_imports__project_id",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "data_sources",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "kind",
          "type": "enum('mysql','postgresql','sqlite','sqlserver','oracle','http','graphql')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "config_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "secret_ref",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ds_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_ds_name",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": "deleted_at",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ds_proj",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "migrations",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "hash",
          "type": "char(40)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "description",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "applied_at",
          "type": "timestamp(6)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP(6)"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "duration_ms",
          "type": "int unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "plan",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_sqlx_mig_hash",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "hash",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "privileges",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "user_name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "privilege",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "table_name",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "granted_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbp_table",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "table_name",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_dbp_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "user_name",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "query_errors",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "error_message",
          "type": "text",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbqe_conn_created",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbqe_conn",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "query_logs",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "query_sql",
          "type": "longtext",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbql_conn_created",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbql_conn",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "query_results",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "query_sql",
          "type": "longtext",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "result_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbqr_conn_created",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbqr_conn",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "role_assignments",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_role_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "granted_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbra_role",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_role_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_dbra_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_role_assignment",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "db_role_id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbra_role",
          "columns": [
            "db_role_id"
          ],
          "refSchema": "sqlx",
          "refTable": "roles",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_dbra_user",
          "columns": [
            "db_user_id"
          ],
          "refSchema": "sqlx",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "roles",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_db_role_name",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "name",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "saved_queries",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "query_sql",
          "type": "longtext",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "last_run_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_saved_queries_list",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_sq_conn",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_sq_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_sq_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_saved_query_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_sqlx_saved_queries__created_by",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_sqlx_saved_queries__db_connection_id",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_sqlx_saved_queries__project_id",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "CASCADE",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "saved_views",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "config_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_sv_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_sv_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_saved_view_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_sv_proj",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_sv_user",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_exports",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "format",
          "type": "enum('sql','json','yaml','xml','png','svg')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "filename",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "user_id",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "exported_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbsex_schema",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbsex_schema",
          "columns": [
            "db_schema_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schemas",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_procedures",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "definition_sql",
          "type": "longtext",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbproc_sid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_proc_per_schema_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbproc_sid",
          "columns": [
            "db_schema_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schemas",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_table_checks",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_table_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "expression_sql",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbchk_tid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_chk_per_table_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbchk_tid",
          "columns": [
            "db_schema_table_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schema_tables",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_table_columns",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_table_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "data_type",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "length_val",
          "type": "int unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "precision_val",
          "type": "int unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "scale_val",
          "type": "int unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "default_expr",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "is_not_null",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "is_auto_increment",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "is_primary_key",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "is_unique",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "is_unsigned",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "ref_table",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "ref_columns",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "ordinal_position",
          "type": "int unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbcol_ord",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "ordinal_position",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_dbcol_tid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_col_per_table_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbcol_tid",
          "columns": [
            "db_schema_table_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schema_tables",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_table_foreign_keys",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_table_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "columns_csv",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "ref_table",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "ref_columns_csv",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "on_delete_action",
          "type": "varchar(20)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "on_update_action",
          "type": "varchar(20)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbfk_tid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_fk_per_table_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbfk_tid",
          "columns": [
            "db_schema_table_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schema_tables",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_table_indexes",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_table_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "columns_csv",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "is_unique",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbidx_tid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_idx_per_table_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbidx_tid",
          "columns": [
            "db_schema_table_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schema_tables",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_table_triggers",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_table_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "event_type",
          "type": "varchar(20)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "timing",
          "type": "varchar(20)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "statement_sql",
          "type": "text",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbtrg_tid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_trg_per_table_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbtrg_tid",
          "columns": [
            "db_schema_table_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schema_tables",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_tables",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbtab_sid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_table_per_schema_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbtab_sid",
          "columns": [
            "db_schema_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schemas",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schema_views",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "definition_sql",
          "type": "longtext",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbview_sid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_view_per_schema_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbview_sid",
          "columns": [
            "db_schema_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schemas",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "schemas",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbsch_cid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_schema_per_conn_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbsch_cid",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "table_rows",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_schema_table_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "data_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbrow_tid_created",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_schema_table_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbrow_tid",
          "columns": [
            "db_schema_table_id"
          ],
          "refSchema": "sqlx",
          "refTable": "schema_tables",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "user_activity",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "activity_type",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "activity_details",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbuact_conn_created",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_dbuact_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_user_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbuact_conn",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_dbuact_user",
          "columns": [
            "db_user_id"
          ],
          "refSchema": "sqlx",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "user_permissions",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_user_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "permission",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbup_cid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_dbup",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_user_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "permission",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbup_cid",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_dbup_uid",
          "columns": [
            "db_user_id"
          ],
          "refSchema": "sqlx",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "sqlx",
      "name": "users",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "db_connection_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "username",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "secret_ref",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "credential_hash",
          "type": "varbinary(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_dbu_cid",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_dbu_user_per_conn",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "db_connection_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "username",
              "prefixLen": null
            },
            {
              "colOrExpr": "deleted_at",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_dbu_cid",
          "columns": [
            "db_connection_id"
          ],
          "refSchema": "sqlx",
          "refTable": "connections",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "ui",
      "name": "assets",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "kind",
          "type": "enum('image','font','icon','file','svg')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "storage_key",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "content_type",
          "type": "varchar(190)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "size_bytes",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ui_assets_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_ui_assets_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ui_assets_proj",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_ui_assets_user",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "ui",
      "name": "components_library",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "definition_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ui_clib_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_ui_clib_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ui_clib_proj",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "ui",
      "name": "page_versions",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "page_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "version",
          "type": "int unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "tree_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "notes",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ui_pv_page",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "page_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_ui_pv_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_ui_page_ver",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "page_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "version",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ui_pv_page",
          "columns": [
            "page_id"
          ],
          "refSchema": "ui",
          "refTable": "pages",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_ui_pv_user",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "ui",
      "name": "pages",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "route_path",
          "type": "varchar(255)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "is_home",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "0"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_ui_pages_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_ui_pages_route",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "route_path",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_ui_pages_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_ui_route_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "route_path",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_ui_pages_proj",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_ui_pages_user",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "workflow",
      "name": "run_nodes",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "run_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "node_id",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "node_type",
          "type": "varchar(100)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "status",
          "type": "enum('pending','running','succeeded','failed','skipped')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "pending"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "started_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "finished_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "output_json",
          "type": "json",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_wfrn_run",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "run_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_wfrn_run",
          "columns": [
            "run_id"
          ],
          "refSchema": "workflow",
          "refTable": "runs",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "workflow",
      "name": "runs",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workflow_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "version",
          "type": "int unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "status",
          "type": "enum('queued','running','succeeded','failed','canceled')",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "queued"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "trigger_kind",
          "type": "enum('event','schedule','webhook','manual')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "trigger_payload_json",
          "type": "longtext",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "started_at",
          "type": "timestamp(6)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "finished_at",
          "type": "timestamp(6)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp(6)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP(6)"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_wfr_wf",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workflow_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_workflow_runs_timeline",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workflow_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "created_at",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_wfr_wf",
          "columns": [
            "workflow_id"
          ],
          "refSchema": "workflow",
          "refTable": "workflows",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "workflow",
      "name": "triggers",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workflow_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "kind",
          "type": "enum('event','schedule','webhook','db_change')",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "config_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "is_active",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "1"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_wft_wf",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workflow_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_wft_wf",
          "columns": [
            "workflow_id"
          ],
          "refSchema": "workflow",
          "refTable": "workflows",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "workflow",
      "name": "versions",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workflow_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "version",
          "type": "int unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "graph_json",
          "type": "json",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_wfv_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_wfv_wf",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workflow_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_wf_ver",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workflow_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "version",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_wfv_user",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_wfv_wf",
          "columns": [
            "workflow_id"
          ],
          "refSchema": "workflow",
          "refTable": "workflows",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "workflow",
      "name": "webhooks",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "workflow_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "secret_ref",
          "type": "varchar(255)",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "last_used_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_wf_webhook",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "workflow_id",
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_wfh_wf",
          "columns": [
            "workflow_id"
          ],
          "refSchema": "workflow",
          "refTable": "workflows",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    },
    {
      "schema": "workflow",
      "name": "workflows",
      "comment": "",
      "columns": [
        {
          "name": "id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": true,
          "collation": null,
          "comment": null
        },
        {
          "name": "project_id",
          "type": "bigint unsigned",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "name",
          "type": "varchar(190)",
          "nullable": false,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "description",
          "type": "text",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": "utf8mb4_0900_ai_ci",
          "comment": null
        },
        {
          "name": "is_enabled",
          "type": "tinyint(1)",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "1"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_by",
          "type": "bigint unsigned",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "created_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "updated_at",
          "type": "timestamp",
          "nullable": false,
          "default": {
            "kind": "literal",
            "text": "CURRENT_TIMESTAMP"
          },
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        },
        {
          "name": "deleted_at",
          "type": "timestamp",
          "nullable": true,
          "default": null,
          "generated": null,
          "autoIncrement": false,
          "collation": null,
          "comment": null
        }
      ],
      "indexes": [
        {
          "name": "idx_wf_proj",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "idx_wf_user",
          "unique": false,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "created_by",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "PRIMARY",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "id",
              "prefixLen": null
            }
          ]
        },
        {
          "name": "uq_wf_name_active",
          "unique": true,
          "using": "btree",
          "invisible": false,
          "parts": [
            {
              "colOrExpr": "project_id",
              "prefixLen": null
            },
            {
              "colOrExpr": "name",
              "prefixLen": null
            },
            {
              "colOrExpr": null,
              "prefixLen": null
            }
          ]
        }
      ],
      "fks": [
        {
          "name": "fk_wf_proj",
          "columns": [
            "project_id"
          ],
          "refSchema": "platform",
          "refTable": "projects",
          "refColumns": [
            "id"
          ],
          "onDelete": "NO ACTION",
          "onUpdate": "NO ACTION"
        },
        {
          "name": "fk_wf_user",
          "columns": [
            "created_by"
          ],
          "refSchema": "platform",
          "refTable": "users",
          "refColumns": [
            "id"
          ],
          "onDelete": "SET NULL",
          "onUpdate": "NO ACTION"
        }
      ],
      "checks": []
    }
  ],
  "views": [
    {
      "schema": "observability_v",
      "name": "events",
      "sql": "select `r`.`created_at` AS `event_time`,'api' AS `source`,concat('HTTP ',`r`.`method`) AS `kind`,NULL AS `ref_schema`,NULL AS `ref_table`,`r`.`endpoint_id` AS `ref_id`,concat(`r`.`method`,' ',`r`.`path`,'  ',`r`.`status_code`) AS `summary`,json_object('environment_id',`r`.`environment_id`,'duration_ms',`r`.`duration_ms`,'status_code',`r`.`status_code`) AS `details_json` from `api`.`request_logs` `r` union all select `q`.`created_at` AS `created_at`,'sqlx' AS `sqlx`,'query' AS `query`,NULL AS `NULL`,NULL AS `NULL`,`q`.`db_connection_id` AS `db_connection_id`,'SQL query executed' AS `SQL query executed`,json_object('snippet',left(`q`.`query_sql`,1800)) AS `JSON_OBJECT('snippet', LEFT(q.query_sql, 1800))` from `sqlx`.`query_logs` `q` union all select `e`.`created_at` AS `created_at`,'sqlx' AS `sqlx`,'query_error' AS `query_error`,NULL AS `NULL`,NULL AS `NULL`,`e`.`db_connection_id` AS `db_connection_id`,'SQL error' AS `SQL error`,json_object('error',left(`e`.`error_message`,1800)) AS `JSON_OBJECT('error', LEFT(e.error_message, 1800))` from `sqlx`.`query_errors` `e` union all select `wfr`.`created_at` AS `created_at`,'workflow' AS `workflow`,concat('run:',`wfr`.`status`) AS `CONCAT('run:', wfr.status)`,NULL AS `NULL`,NULL AS `NULL`,`wfr`.`workflow_id` AS `workflow_id`,concat('Workflow run v',`wfr`.`version`) AS `CONCAT('Workflow run v', wfr.version)`,json_object('trigger',`wfr`.`trigger_kind`) AS `JSON_OBJECT('trigger', wfr.trigger_kind)` from `workflow`.`runs` `wfr` union all select `d`.`created_at` AS `created_at`,'devops' AS `devops`,concat('deploy:',`d`.`status`) AS `CONCAT('deploy:', d.status)`,NULL AS `NULL`,NULL AS `NULL`,`d`.`environment_id` AS `environment_id`,concat('Build ',`d`.`build_id`,'  Env ',`d`.`environment_id`) AS `CONCAT('Build ', d.build_id, '  Env ', d.environment_id)`,json_object('started_at',`d`.`started_at`,'finished_at',`d`.`finished_at`) AS `Name_exp_40` from `devops`.`deployments` `d` union all select `gae`.`created_at` AS `created_at`,'audit' AS `audit`,`gae`.`action` AS `action`,NULL AS `NULL`,`gae`.`object_type` AS `object_type`,`gae`.`object_id` AS `object_id`,concat(`gae`.`namespace`,':',`gae`.`object_type`,'#',`gae`.`object_id`) AS `CONCAT(gae.namespace, ':', gae.object_type, '#', gae.object_id)`,`gae`.`metadata_json` AS `metadata_json` from `platform`.`global_audit_events` `gae`",
      "definer": "root@localhost",
      "security": "DEFINER"
    },
    {
      "schema": "platform_v",
      "name": "projects_active",
      "sql": "select `platform`.`projects`.`id` AS `id`,`platform`.`projects`.`workspace_id` AS `workspace_id`,`platform`.`projects`.`name` AS `name`,`platform`.`projects`.`slug` AS `slug`,`platform`.`projects`.`created_at` AS `created_at`,`platform`.`projects`.`updated_at` AS `updated_at`,`platform`.`projects`.`deleted_at` AS `deleted_at` from `platform`.`projects` where (`platform`.`projects`.`deleted_at` is null)",
      "definer": "root@localhost",
      "security": "DEFINER"
    },
    {
      "schema": "platform_v",
      "name": "relationships",
      "sql": "select `information_schema`.`rc`.`CONSTRAINT_SCHEMA` AS `child_schema`,`information_schema`.`kcu`.`TABLE_NAME` AS `child_table`,`information_schema`.`rc`.`CONSTRAINT_NAME` AS `fk_name`,group_concat(`information_schema`.`kcu`.`COLUMN_NAME` order by `information_schema`.`kcu`.`ORDINAL_POSITION` ASC separator ',') AS `child_columns`,`information_schema`.`kcu`.`REFERENCED_TABLE_SCHEMA` AS `parent_schema`,`information_schema`.`kcu`.`REFERENCED_TABLE_NAME` AS `parent_table`,group_concat(`information_schema`.`kcu`.`REFERENCED_COLUMN_NAME` order by `information_schema`.`kcu`.`ORDINAL_POSITION` ASC separator ',') AS `parent_columns`,`information_schema`.`rc`.`UPDATE_RULE` AS `UPDATE_RULE`,`information_schema`.`rc`.`DELETE_RULE` AS `DELETE_RULE` from (`information_schema`.`REFERENTIAL_CONSTRAINTS` `rc` join `information_schema`.`KEY_COLUMN_USAGE` `kcu` on(((`information_schema`.`rc`.`CONSTRAINT_SCHEMA` = `information_schema`.`kcu`.`CONSTRAINT_SCHEMA`) and (`information_schema`.`rc`.`CONSTRAINT_NAME` = `information_schema`.`kcu`.`CONSTRAINT_NAME`) and (`information_schema`.`rc`.`TABLE_NAME` = `information_schema`.`kcu`.`TABLE_NAME`)))) where (`information_schema`.`kcu`.`REFERENCED_TABLE_NAME` is not null) group by `information_schema`.`rc`.`CONSTRAINT_SCHEMA`,`information_schema`.`kcu`.`TABLE_NAME`,`information_schema`.`rc`.`CONSTRAINT_NAME`,`information_schema`.`kcu`.`REFERENCED_TABLE_SCHEMA`,`information_schema`.`kcu`.`REFERENCED_TABLE_NAME`,`information_schema`.`rc`.`UPDATE_RULE`,`information_schema`.`rc`.`DELETE_RULE`",
      "definer": "root@localhost",
      "security": "DEFINER"
    },
    {
      "schema": "platform_v",
      "name": "workspaces_active",
      "sql": "select `platform`.`workspaces`.`id` AS `id`,`platform`.`workspaces`.`owner_id` AS `owner_id`,`platform`.`workspaces`.`name` AS `name`,`platform`.`workspaces`.`slug` AS `slug`,`platform`.`workspaces`.`tier` AS `tier`,`platform`.`workspaces`.`business_account_id` AS `business_account_id`,`platform`.`workspaces`.`created_at` AS `created_at`,`platform`.`workspaces`.`updated_at` AS `updated_at`,`platform`.`workspaces`.`deleted_at` AS `deleted_at` from `platform`.`workspaces` where (`platform`.`workspaces`.`deleted_at` is null)",
      "definer": "root@localhost",
      "security": "DEFINER"
    }
  ],
  "generatedAt": "2025-10-03T20:54:33.868Z",
  "fingerprint": "7629e046f6484e3490200411fcd903a7ca00c7c448d0f71e60b5145924cdb35c"
}